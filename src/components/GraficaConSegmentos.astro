---
/**
 * SegmentosDashboard.astro
 * Visualiza cuántos clientes compraron por mes (agrupado por segmento) usando Chart.js
 * Datos: obtenidos desde una Astro Action: actions.getSegmentos
 * Requisitos: TailwindCSS cargado globalmente. Internet para CDN de Chart.js (o instálalo por npm e impórtalo en un componente de isla).
 */

import { actions } from "astro:actions";
const { data, error } = await Astro.callAction(actions.getSegmentos, {});
console.log(data)
import "../styles/global.css";


---


<ul class="space-y-4">
  {data?.map(seg => (
    <li class="bg-white dark:bg-gray-800 shadow rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between">
      <div>
        <span class="font-bold text-lg text-gray-900 dark:text-white">{seg.nombre_empresa}</span>
        <span class="ml-2 text-sm text-gray-500 dark:text-gray-400">ID: {seg.id_cliente}</span>
      </div>
      <div class="mt-2 md:mt-0 flex flex-wrap gap-4">
        <span class="text-blue-600 dark:text-blue-400">Año: {seg.ano}</span>
        <span class="text-green-600 dark:text-green-400">Mes: {seg.mes}</span>
        <span class="text-purple-600 dark:text-purple-400">Ponderación: {seg.ponderacion_vcs}</span>
        <span class="text-pink-600 dark:text-pink-400">Numérico: {seg.segmento_numerico}</span>
        <span class="text-yellow-600 dark:text-yellow-400">Categoría: {seg.segmento_categorico}</span>
      </div>
    </li>
  ))}
</ul>
